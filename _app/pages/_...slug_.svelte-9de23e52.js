var y=Object.defineProperty;var $=(e,t,s)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var o=(e,t,s)=>($(e,typeof t!="symbol"?t+"":t,s),s);import{S,i as b,s as N,j as f,l as m,m as A,o as g,f as C,u as _,w as j,x as d,d as P,v as x,r as E}from"../chunks/vendor-05e6e776.js";import{p as k}from"../chunks/pages-1d8deaef.js";var L=Object.defineProperty,M=(e,t,s)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,v=(e,t,s)=>(M(e,typeof t!="symbol"?t+"":t,s),s),w=class extends Error{constructor(e){super(`Path error: ${e}`)}},h=class{constructor(e){o(this,"_separator");o(this,"_name");o(this,"_root");o(this,"_path");o(this,"_extensions");var t,s,n;if(typeof e=="object")if("pathname"in e)e=this.fileURLToPath(e);else if("fullName"in e)e=e.fullName;else throw new w("Constructor: unknown object type.");else e=e.toString();if(e&&e.length>0){this.root=((t=e.match(/^([/\\]?(?:[a-zA-Z]:[/\\])?)/))==null?void 0:t[1])||"",this.root&&(e=e.replace(/^([/\\]?(?:[a-zA-Z]:[/\\])?)/,""));let i=e.match(/^(?:(.*)[/\\])?([^/\\]+)[/\\]?$/);if(!i)throw new w(`Cannot parse '${e}'`);this.path=i==null?void 0:i[1],this.name=((s=i[2].match(/^([^.]*)(?:\.|$)/))==null?void 0:s[1])||"",this.extensions=(n=i[2].match(/^[^.]*\.(.*)$/))==null?void 0:n[1]}}static get separatorMatch(){return this._separatorMatch.lastIndex=0,this._separatorMatch}get separator(){return this._separator?this._separator:h.separator}set separator(e){this._separator=e||void 0}get name(){return this._name?this._name:""}set name(e){this._name=e||void 0}get root(){return this._root?this.replaceSeparator(this._root):""}set root(e){this._root=e||void 0}get isAbsolute(){return!!this._root}get isRelative(){return!this._root}get path(){return this._path?this._path:[]}set path(e){e?Array.isArray(e)?this._path=e:this._path=e.split(/[/\\]/g).filter(t=>t&&t.length>0):this._path=void 0}get extensions(){return this._extensions?this._extensions:[]}set extensions(e){e?Array.isArray(e)?this._extensions=e:this._extensions=e.split("."):this._extensions=void 0}get extension(){return this.extensions.length>0?this.extensions[this.extensions.length-1]:""}set extension(e){e&&e.length>0?this.extensions[this.extensions.length?this.extensions.length-1:0]=e:this.extensions=this.extensions.slice(0,-1)}get base(){return[this.name,...this.extensions].join(".")}set base(e){if(e){let t=e.split(".");this.name=t[0],this.extensions=t.slice(1)}else this.name=void 0,this.extensions=void 0}get parent(){let e=this.clone();return e.path=this.path.slice(0,-1),this.base&&(e.base=this.path[this.path.length-1]),e}get isEmpty(){return this.name.length==0&&this.path.length==0&&this.extensions.length==0}get fullName(){return this.toString()}static toFullName(e){return new h(e).fullName}replaceSeparator(e){return e.replaceAll(h.separatorMatch,this.separator)}setBase(e){let t=this.clone();return t.base=e,t}setName(e){let t=this.clone();return t.name=e,t}join(...e){return this.clone([this.fullName,...e].join(this.separator))}setSeparator(e){let t=this.clone();return t.separator=e,t}isExtension(e,t){return t?e===this.extension:e.toLowerCase()===this.extension.toLowerCase()}hasExtension(e,t){return t?this.extensions.includes(e):this.extensions.map(s=>s.toLowerCase()).includes(e.toLowerCase())}setExtension(e){let t=this.clone();return t.extension=e,t}setExtensions(e){let t=this.clone();return t.extensions=e,t}setPath(e){let t=this.clone();return t.path=e,t}setRoot(e){let t=this.clone();return t.root=e,t}clone(e){let t=new this.constructor(e||this.fullName);return t._separator=this._separator,t}fileURLToPath(e){return e.pathname}toString(){return this.root+[...this.path,this.base].join(this.separator)}toJSON(){return this.toString()}cleanSlug(e,t){for(;this.extension.match(e);)this.extension="";return this.name||(this.name=t),this.fullName}},l=h;v(l,"separator","/"),v(l,"_separatorMatch",/[/\\]/g);var u=class{constructor(e,t){o(this,"name");o(this,"children");o(this,"files");var s;if(this.children={},typeof e=="string"){this.name=e,this.files=new Set,t=t||[];for(let n of t){let i=l.toFullName(n);this.addDirs([Array.from(i.matchAll(/(?:^[/\\])?([^/\\]+)(?:[/\\])/g),r=>r[1])]);let a=(s=i.match(/([^/\\]+$)/))==null?void 0:s[1];a&&this.files.add(a)}}else if("/"in e){this.files=new Set(e["/"]),this.name=(e==null?void 0:e[" "])||"";for(let n in e)n!=="/"&&n!==" "&&(this.children[n]=new u(e[n]))}else throw new Error("Directory constructor got unknown input.")}addDirs(e){for(let t of e){let s,n;if(Array.isArray(t)){if(t.length==0)continue;s=t[0],n=t.slice(1)}else s=t,n=void 0;s in this.children||(this.children[s]=new u(s,n))}}toJSON(){return Object.keys(this.children).reduce((e,t)=>(e[t]=this.children[t].toJSON(),e),{"/":Array.from(this.files)," ":this.name})}};function O(e){let t,s,n;var i=e[0];function a(r){return{}}return i&&(t=new i(a())),{c(){t&&f(t.$$.fragment),s=m()},l(r){t&&A(t.$$.fragment,r),s=m()},m(r,c){t&&g(t,r,c),C(r,s,c),n=!0},p(r,[c]){if(i!==(i=r[0])){if(t){E();const p=t;_(p.$$.fragment,1,0,()=>{x(p,1)}),j()}i?(t=new i(a()),f(t.$$.fragment),d(t.$$.fragment,1),g(t,s.parentNode,s)):t=null}},i(r){n||(t&&d(t.$$.fragment,r),n=!0)},o(r){t&&_(t.$$.fragment,r),n=!1},d(r){r&&P(s),t&&x(t,r)}}}const z=async e=>{const t=new l(e.page.params.slug);t.cleanSlug(/html?/i,"index");const s=new u(e.session.pages),n=t.toString();try{return{props:{PageContent:k[n],pages:s}}}catch{return}};function D(e,t,s){let{PageContent:n}=t;return e.$$set=i=>{"PageContent"in i&&s(0,n=i.PageContent)},[n]}class B extends S{constructor(t){super();b(this,t,D,O,N,{PageContent:0})}}export{B as default,z as load};
